var CanvasChart=function(){var t,e,n,l,a,i,r=40,o=75,s=0,d=75,f=0,u=0,h={lines:"lines",points:"points"},x=function(){P(),T(),y(),null!=i.renderTypes&&null!=i.renderTypes||(i.renderTypes=[h.lines]);for(var t=0;t<i.renderTypes.length;t++)g(i.renderTypes[t])},c=function(){for(var t=0;t<i.dataPoints.length;t++)i.dataPoints[t].y>f&&(f=i.dataPoints[t].y)},P=function(){t.fillStyle="#fff",t.fillRect(o,r,a-o,l-r),t.fillStyle="black"},T=function(){var e=null!=i.labelFont?i.labelFont:"10pt Arial";t.font=e,t.textAlign="center";var s=t.measureText(i.title);t.fillText(i.title,n/2,r/2),s=t.measureText(i.xLabel),t.fillText(i.xLabel,o+a/2-s.width/2,l+d/1.2),t.save(),t.rotate(-Math.PI/2),t.font=e,t.fillText(i.yLabel,l/2*-1,o/4),t.restore()},y=function(){for(var e=l/i.dataPoints.length,n=0,s=(i.dataPoints.length,v()),h=o,x=0;x<i.dataPoints.length;x++){if(n+=0==x?r:e,x%2==0&&Math.round(f-(0==x?0:n/u))>0){b(o,n,a,n,"#E8E8E8"),t.font=null!=i.dataPointFont?i.dataPointFont:"15px Arial";var c=Math.round(f-(0==x?0:n/u)),P=t.measureText(c);t.fillText(c,o-(P.width>=14?P.width:10)-7,n+4)}b(h,l,h,r,"#E8E8E8"),c=i.dataPoints[x].x,P=t.measureText(c),t.fillText(c,h,l+d/3),h+=s}b(o,r,o,l,"black"),b(o,l,a,l,"black")},g=function(e){for(var n=i.dataColors,l=v(),a=0,s=0,d=0;d<i.dataPoints.length;d++){var x=i.dataPoints[d],c=(f-x.y)*u;c<r&&(c=r);var P=d*l+o;d>0&&e==h.lines&&b(P,c,a,s,n[d],2),e==h.points&&(t.beginPath(),t.fillStyle=n[d],t.arc(P,c,5,0,2*Math.PI,!1),t.fill(),t.lineWidth=1,t.strokeStyle=n[d],t.stroke(),t.closePath(),txt=i.dataPoints[d].y,txtSize=t.measureText(txt),t.fillStyle="#000",t.fillText(txt,P+10,c-15)),a=P,s=c}},v=function(){return Math.round(a/i.dataPoints.length)-1},b=function(e,n,l,a,i,r){null!=i&&(t.strokeStyle=i),null!=r&&(t.lineWidth=r),t.beginPath(),t.moveTo(e,n),t.lineTo(l,a),t.stroke(),t.closePath()};return{renderType:h,render:function(h,P){i=P,c();var T=document.getElementById(h);e=T.getAttribute("height"),n=T.getAttribute("width"),a=n-(o+s),u=(l=e-(r+d))/f,t=T.getContext("2d"),x()}}}();